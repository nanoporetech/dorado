dorado_add_library(
    NAME
        dorado_hts_utils
    PUBLIC_DIR
        hts_utils
    SOURCES_PUBLIC
        bam_utils.h
        fai_utils.h
        fasta_fastq_utils.h
        fasta_reader.h
        fastq_reader.h
        fastq_tags.h
        FastxRandomReader.h
        FastxSequentialReader.h
        header_utils.h
        hts_file.h
        hts_types.h
        KString.h
        MergeHeaders.h
        sequence_file_format.h
    SOURCES_PRIVATE
        bam_utils.cpp
        fai_utils.cpp
        fasta_fastq_utils.cpp
        fasta_reader.cpp
        fastq_reader.cpp
        fastq_tags.cpp
        FastxRandomReader.cpp
        FastxSequentialReader.cpp
        header_utils.cpp
        hts_file.cpp
        hts_types.cpp
        KString.cpp
        MergeHeaders.cpp
        sequence_file_format.cpp
    DEPENDS_PUBLIC
        # nothing
    DEPENDS_PRIVATE
        dorado_utils
        htslib
        spdlog::spdlog
        ZLIB::ZLIB
    NO_TORCH
)