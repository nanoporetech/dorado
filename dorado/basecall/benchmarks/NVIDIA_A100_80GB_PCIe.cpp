#include "NVIDIA_A100_80GB_PCIe.h"

namespace dorado::basecall {

void AddNVIDIA_A100_80GB_PCIeBenchmarks(
        std::map<std::pair<std::string, std::string>, std::unordered_map<int, float>>&
                chunk_benchmarks) {
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.3.0"}] = {
            {64, 0.083808f},   {128, 0.047208f},  {192, 0.033371f},  {256, 0.028004f},
            {320, 0.023533f},  {384, 0.020915f},  {640, 0.019610f},  {704, 0.019059f},
            {768, 0.018461f},  {832, 0.017723f},  {1216, 0.017592f}, {1280, 0.017264f},
            {2112, 0.017057f}, {2560, 0.017056f}, {3008, 0.016989f}, {3840, 0.016951f},
            {3968, 0.016752f}, {6336, 0.016540f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.0.0"}] = {
            {64, 0.082528f},   {128, 0.046416f},  {192, 0.032896f},  {256, 0.027620f},
            {320, 0.023248f},  {384, 0.020640f},  {576, 0.020612f},  {640, 0.019453f},
            {704, 0.018746f},  {768, 0.017964f},  {832, 0.017418f},  {1280, 0.017313f},
            {1664, 0.017264f}, {2112, 0.017131f}, {3328, 0.016264f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.3.0"}] = {
            {64, 0.379392f},   {128, 0.196376f},  {192, 0.134597f},  {256, 0.105380f},
            {320, 0.087462f},  {384, 0.074672f},  {448, 0.069918f},  {512, 0.063084f},
            {576, 0.058320f},  {960, 0.055490f},  {1024, 0.054029f}, {1088, 0.052014f},
            {1152, 0.049372f}, {1600, 0.049007f}, {1664, 0.047730f}, {1728, 0.046844f},
            {2112, 0.046820f}, {2176, 0.046592f}, {2240, 0.045292f}, {2304, 0.044573f},
            {2880, 0.043438f}, {3456, 0.043216f}, {3968, 0.043003f}, {4032, 0.042840f},
            {4544, 0.042702f}, {4608, 0.042452f}, {5184, 0.042382f}, {5760, 0.042352f},
            {6272, 0.042344f}, {6336, 0.042109f}, {6848, 0.042056f}, {6912, 0.041904f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.0.0"}] = {
            {64, 0.379440f},   {128, 0.196416f},  {192, 0.134789f},  {256, 0.105448f},
            {320, 0.087488f},  {384, 0.074640f},  {448, 0.070075f},  {512, 0.063106f},
            {576, 0.058951f},  {896, 0.058634f},  {960, 0.055489f},  {1024, 0.053632f},
            {1088, 0.051975f}, {1152, 0.049371f}, {1600, 0.048646f}, {1664, 0.047586f},
            {1728, 0.046617f}, {2176, 0.046601f}, {2240, 0.045545f}, {2304, 0.044776f},
            {2816, 0.044204f}, {2880, 0.043835f}, {3328, 0.043794f}, {3392, 0.043595f},
            {3456, 0.043202f}, {4032, 0.042728f}, {4544, 0.042662f}, {4608, 0.042535f},
            {5184, 0.042479f}, {5760, 0.042172f}, {6336, 0.041739f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.3.0"}] = {
            {64, 2.587488f},   {128, 1.316016f},  {192, 0.903083f},  {256, 0.855700f},
            {320, 0.606675f},  {384, 0.490101f},  {448, 0.454421f},  {512, 0.388548f},
            {576, 0.353065f},  {640, 0.333035f},  {704, 0.310665f},  {768, 0.293312f},
            {832, 0.275803f},  {1088, 0.269880f}, {1152, 0.262924f}, {1280, 0.261482f},
            {1472, 0.260262f}, {1536, 0.258979f}, {1600, 0.258499f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.0.0"}] = {
            {32, 0.508448f},  {64, 0.492832f},  {256, 0.488284f}, {352, 0.450534f},
            {384, 0.448656f}, {416, 0.446799f}, {480, 0.445673f}, {864, 0.444948f},
            {896, 0.444699f}, {960, 0.443559f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_fast@v5.1.0"}] = {
            {64, 0.092624f},   {128, 0.050568f},  {192, 0.036229f},  {256, 0.029108f},
            {320, 0.024637f},  {384, 0.021792f},  {640, 0.021003f},  {704, 0.020141f},
            {768, 0.019135f},  {832, 0.018886f},  {1216, 0.018806f}, {1280, 0.018488f},
            {1728, 0.018315f}, {2560, 0.018173f}, {3008, 0.018080f}, {3456, 0.017987f},
            {5504, 0.017717f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_hac@v5.1.0"}] = {
            {64, 0.453776f},   {128, 0.234616f},  {192, 0.161056f},  {256, 0.126012f},
            {320, 0.103824f},  {384, 0.091232f},  {448, 0.080768f},  {512, 0.076340f},
            {576, 0.070469f},  {960, 0.067296f},  {1024, 0.064622f}, {1088, 0.062207f},
            {1152, 0.060317f}, {1536, 0.059761f}, {1600, 0.058523f}, {1664, 0.056849f},
            {1728, 0.055924f}, {2176, 0.055320f}, {2240, 0.054249f}, {2304, 0.053586f},
            {2816, 0.053361f}, {2880, 0.052496f}, {3456, 0.051915f}, {3968, 0.051748f},
            {4032, 0.051374f}, {4480, 0.051349f}, {4544, 0.051311f}, {4608, 0.051052f},
            {5184, 0.050763f}, {5760, 0.050743f}, {6336, 0.050588f}, {8064, 0.050403f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_sup@v5.1.0"}] = {
            {32, 0.718624f},  {256, 0.677516f}, {288, 0.674183f},
            {352, 0.673972f}, {384, 0.672989f}, {448, 0.672098f},
            {576, 0.669527f}, {608, 0.667219f}, {640, 0.663954f},
    };

    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.2.0"}] = {
            {64, 0.142688f},   {128, 0.078736f},  {192, 0.0551947f}, {256, 0.046076f},
            {320, 0.038576f},  {384, 0.0342827f}, {512, 0.022202f},  {576, 0.0206062f},
            {640, 0.0189984f}, {704, 0.0182545f}, {768, 0.0174853f}, {832, 0.0166732f},
            {1664, 0.016464f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.2.0"}] = {
            {64, 0.952816f},    {128, 0.321552f},   {192, 0.217989f},   {256, 0.140992f},
            {320, 0.114525f},   {384, 0.104101f},   {448, 0.0892914f},  {512, 0.08065f},
            {576, 0.0735182f},  {960, 0.0702848f},  {1024, 0.068169f},  {1088, 0.0650616f},
            {1152, 0.0649004f}, {1536, 0.063028f},  {1600, 0.0615027f}, {1664, 0.0600566f},
            {1728, 0.0587804f}, {2240, 0.0579333f}, {2304, 0.0569653f}, {2816, 0.0565098f},
            {2880, 0.0559588f}, {3456, 0.0556735f}, {4032, 0.0554133f}, {4608, 0.0551956f},
            {5184, 0.0547846f}, {6336, 0.0543919f}, {7488, 0.0543784f}, {8064, 0.0543422f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.2.0"}] = {
            {32, 0.868224f},  {64, 0.749776f},  {96, 0.517301f},  {128, 0.515328f},
            {160, 0.503379f}, {224, 0.499643f}, {352, 0.451127f}, {384, 0.447803f},
            {416, 0.444172f}, {640, 0.444123f}, {672, 0.443432f}, {768, 0.443257f},
            {928, 0.442503f}, {960, 0.441791f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_fast@v5.2.0"}] = {
            {64, 0.168f},      {128, 0.092192f},  {192, 0.0652053f}, {256, 0.05378f},
            {320, 0.0450784f}, {384, 0.0400907f}, {512, 0.036002f},  {576, 0.0240302f},
            {640, 0.022632f},  {704, 0.0216727f}, {768, 0.0209827f}, {832, 0.0199065f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_hac@v5.2.0"}] = {
            {64, 0.824608f},    {128, 0.276184f},   {192, 0.185355f},   {256, 0.140836f},
            {320, 0.100995f},   {384, 0.0870133f},  {448, 0.0815703f},  {512, 0.07199f},
            {576, 0.0671573f},  {896, 0.066888f},   {960, 0.0633675f},  {1024, 0.061446f},
            {1088, 0.0592612f}, {1152, 0.0571742f}, {1600, 0.0562854f}, {1664, 0.0545772f},
            {1728, 0.053901f},  {2240, 0.0530336f}, {2304, 0.0526551f}, {2816, 0.052128f},
            {2880, 0.0515602f}, {3456, 0.0508987f}, {4608, 0.0505753f}, {5184, 0.0503042f},
            {5760, 0.0498885f}, {7488, 0.0494924f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_sup@v5.2.0"}] = {
            {32, 1.21702f},   {64, 1.12056f},   {96, 0.767509f},  {128, 0.76064f},
            {160, 0.752506f}, {192, 0.748459f}, {224, 0.746935f}, {256, 0.67446f},
            {288, 0.674194f}, {320, 0.671456f}, {384, 0.670619f}, {416, 0.669103f},
            {512, 0.668668f}, {608, 0.667821f},
    };
}

}  // namespace dorado::basecall
