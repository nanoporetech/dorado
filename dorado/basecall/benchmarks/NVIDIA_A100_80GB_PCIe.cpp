#include "NVIDIA_A100_80GB_PCIe.h"

namespace dorado::basecall {

void AddNVIDIA_A100_80GB_PCIeBenchmarks(
        std::map<std::pair<std::string, std::string>, std::unordered_map<int, float>>&
                chunk_benchmarks) {
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.3.0"}] = {
            {64, 0.083808f},   {128, 0.047208f},  {192, 0.033371f},  {256, 0.028004f},
            {320, 0.023533f},  {384, 0.020915f},  {640, 0.019610f},  {704, 0.019059f},
            {768, 0.018461f},  {832, 0.017723f},  {1216, 0.017592f}, {1280, 0.017264f},
            {2112, 0.017057f}, {2560, 0.017056f}, {3008, 0.016989f}, {3840, 0.016951f},
            {3968, 0.016752f}, {6336, 0.016540f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.0.0"}] = {
            {64, 0.082528f},   {128, 0.046416f},  {192, 0.032896f},  {256, 0.027620f},
            {320, 0.023248f},  {384, 0.020640f},  {576, 0.020612f},  {640, 0.019453f},
            {704, 0.018746f},  {768, 0.017964f},  {832, 0.017418f},  {1280, 0.017313f},
            {1664, 0.017264f}, {2112, 0.017131f}, {3328, 0.016264f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.3.0"}] = {
            {64, 0.375744f},    {128, 0.195432f},   {192, 0.133851f},   {256, 0.103612f},
            {320, 0.0857056f},  {384, 0.07556f},    {448, 0.0662949f},  {512, 0.060526f},
            {576, 0.0553227f},  {896, 0.0546743f},  {960, 0.0524949f},  {1024, 0.04883f},
            {1088, 0.046928f},  {1152, 0.0444622f}, {1600, 0.0434374f}, {1664, 0.0423095f},
            {1792, 0.0413371f}, {1920, 0.0389739f}, {2048, 0.0371745f}, {2176, 0.0355002f},
            {2304, 0.0339987f}, {4608, 0.0330413f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.0.0"}] = {
            {64, 0.374912f},    {128, 0.199296f},   {192, 0.132901f},   {256, 0.103716f},
            {320, 0.0858336f},  {384, 0.075752f},   {448, 0.0667246f},  {512, 0.060974f},
            {576, 0.0551627f},  {896, 0.0546514f},  {960, 0.0523851f},  {1024, 0.048696f},
            {1088, 0.0467784f}, {1152, 0.0451662f}, {1536, 0.0450587f}, {1600, 0.043801f},
            {1664, 0.0428185f}, {1792, 0.0412651f}, {1920, 0.0389285f}, {2048, 0.037015f},
            {2176, 0.0354833f}, {2304, 0.0339524f}, {4608, 0.0331307f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.3.0"}] = {
            {64, 2.587488f},   {128, 1.316016f},  {192, 0.903083f},  {256, 0.855700f},
            {320, 0.606675f},  {384, 0.490101f},  {448, 0.454421f},  {512, 0.388548f},
            {576, 0.353065f},  {640, 0.333035f},  {704, 0.310665f},  {768, 0.293312f},
            {832, 0.275803f},  {1088, 0.269880f}, {1152, 0.262924f}, {1280, 0.261482f},
            {1472, 0.260262f}, {1536, 0.258979f}, {1600, 0.258499f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.0.0"}] = {
            {32, 0.508448f},  {64, 0.492832f},  {256, 0.488284f}, {352, 0.450534f},
            {384, 0.448656f}, {416, 0.446799f}, {480, 0.445673f}, {864, 0.444948f},
            {896, 0.444699f}, {960, 0.443559f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_fast@v5.1.0"}] = {
            {64, 0.092624f},   {128, 0.050568f},  {192, 0.036229f},  {256, 0.029108f},
            {320, 0.024637f},  {384, 0.021792f},  {640, 0.021003f},  {704, 0.020141f},
            {768, 0.019135f},  {832, 0.018886f},  {1216, 0.018806f}, {1280, 0.018488f},
            {1728, 0.018315f}, {2560, 0.018173f}, {3008, 0.018080f}, {3456, 0.017987f},
            {5504, 0.017717f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_hac@v5.1.0"}] = {
            {64, 0.450352f},    {128, 0.23376f},    {192, 0.159877f},   {256, 0.12418f},
            {320, 0.102304f},   {384, 0.0882987f},  {448, 0.0794331f},  {512, 0.072062f},
            {576, 0.0655236f},  {896, 0.0648171f},  {960, 0.0610091f},  {1024, 0.058058f},
            {1088, 0.0556273f}, {1152, 0.0537298f}, {1600, 0.0531386f}, {1664, 0.0521434f},
            {1792, 0.0492914f}, {1920, 0.0465867f}, {2048, 0.0441855f}, {2176, 0.042696f},
            {2304, 0.0411373f}, {4608, 0.0396993f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_sup@v5.1.0"}] = {
            {32, 0.718624f},  {256, 0.677516f}, {288, 0.674183f},
            {352, 0.673972f}, {384, 0.672989f}, {448, 0.672098f},
            {576, 0.669527f}, {608, 0.667219f}, {640, 0.663954f},
    };

    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.2.0"}] = {
            {64, 0.142688f},   {128, 0.078736f},  {192, 0.0551947f}, {256, 0.046076f},
            {320, 0.038576f},  {384, 0.0342827f}, {512, 0.022202f},  {576, 0.0206062f},
            {640, 0.0189984f}, {704, 0.0182545f}, {768, 0.0174853f}, {832, 0.0166732f},
            {1664, 0.016464f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.2.0"}] = {
            {64, 0.519456f},    {128, 0.268544f},   {192, 0.182976f},   {256, 0.14144f},
            {320, 0.116205f},   {384, 0.102605f},   {448, 0.0891749f},  {512, 0.0815f},
            {576, 0.0739289f},  {896, 0.0728309f},  {960, 0.0700224f},  {1024, 0.064912f},
            {1088, 0.0627623f}, {1152, 0.0604853f}, {1536, 0.0601613f}, {1600, 0.0585926f},
            {1664, 0.0571508f}, {1792, 0.0543611f}, {1920, 0.0511499f}, {2048, 0.048387f},
            {2176, 0.0462885f}, {2304, 0.0445382f}, {4608, 0.0429367f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.2.0"}] = {
            {32, 0.868224f},  {64, 0.749776f},  {96, 0.517301f},  {128, 0.515328f},
            {160, 0.503379f}, {224, 0.499643f}, {352, 0.451127f}, {384, 0.447803f},
            {416, 0.444172f}, {640, 0.444123f}, {672, 0.443432f}, {768, 0.443257f},
            {928, 0.442503f}, {960, 0.441791f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_fast@v5.2.0"}] = {
            {64, 0.168f},      {128, 0.092192f},  {192, 0.0652053f}, {256, 0.05378f},
            {320, 0.0450784f}, {384, 0.0400907f}, {512, 0.036002f},  {576, 0.0240302f},
            {640, 0.022632f},  {704, 0.0216727f}, {768, 0.0209827f}, {832, 0.0199065f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_hac@v5.2.0"}] = {
            {64, 0.449856f},    {128, 0.23312f},    {192, 0.159568f},  {256, 0.123692f},
            {320, 0.102077f},   {384, 0.0883387f},  {448, 0.0793303f}, {512, 0.072104f},
            {576, 0.0656373f},  {896, 0.0651509f},  {960, 0.0612885f}, {1024, 0.058196f},
            {1088, 0.0561713f}, {1152, 0.0542996f}, {1600, 0.053047f}, {1664, 0.0518665f},
            {1792, 0.0493051f}, {1920, 0.0466459f}, {2048, 0.044189f}, {2176, 0.0423831f},
            {2304, 0.040848f},  {4608, 0.0398136f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_sup@v5.2.0"}] = {
            {32, 1.21702f},   {64, 1.12056f},   {96, 0.767509f},  {128, 0.76064f},
            {160, 0.752506f}, {192, 0.748459f}, {224, 0.746935f}, {256, 0.67446f},
            {288, 0.674194f}, {320, 0.671456f}, {384, 0.670619f}, {416, 0.669103f},
            {512, 0.668668f}, {608, 0.667821f},
    };
}

}  // namespace dorado::basecall
