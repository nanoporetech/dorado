#include "NVIDIA_A100_80GB_PCIe.h"

namespace dorado::basecall {

void AddNVIDIA_A100_80GB_PCIeBenchmarks(
        std::map<std::pair<std::string, std::string>, std::unordered_map<int, float>>&
                chunk_benchmarks) {
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.3.0"}] = {
            {64, 0.083808f},   {128, 0.047208f},  {192, 0.033371f},  {256, 0.028004f},
            {320, 0.023533f},  {384, 0.020915f},  {640, 0.019610f},  {704, 0.019059f},
            {768, 0.018461f},  {832, 0.017723f},  {1216, 0.017592f}, {1280, 0.017264f},
            {2112, 0.017057f}, {2560, 0.017056f}, {3008, 0.016989f}, {3840, 0.016951f},
            {3968, 0.016752f}, {6336, 0.016540f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.0.0"}] = {
            {64, 0.082528f},   {128, 0.046416f},  {192, 0.032896f},  {256, 0.027620f},
            {320, 0.023248f},  {384, 0.020640f},  {576, 0.020612f},  {640, 0.019453f},
            {704, 0.018746f},  {768, 0.017964f},  {832, 0.017418f},  {1280, 0.017313f},
            {1664, 0.017264f}, {2112, 0.017131f}, {3328, 0.016264f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.3.0"}] = {
            {64, 0.379392f},   {128, 0.196376f},  {192, 0.134597f},  {256, 0.105380f},
            {320, 0.087462f},  {384, 0.074672f},  {448, 0.069918f},  {512, 0.063084f},
            {576, 0.058320f},  {960, 0.055490f},  {1024, 0.054029f}, {1088, 0.052014f},
            {1152, 0.049372f}, {1600, 0.049007f}, {1664, 0.047730f}, {1728, 0.046844f},
            {2112, 0.046820f}, {2176, 0.046592f}, {2240, 0.045292f}, {2304, 0.044573f},
            {2880, 0.043438f}, {3456, 0.043216f}, {3968, 0.043003f}, {4032, 0.042840f},
            {4544, 0.042702f}, {4608, 0.042452f}, {5184, 0.042382f}, {5760, 0.042352f},
            {6272, 0.042344f}, {6336, 0.042109f}, {6848, 0.042056f}, {6912, 0.041904f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.0.0"}] = {
            {64, 0.379440f},   {128, 0.196416f},  {192, 0.134789f},  {256, 0.105448f},
            {320, 0.087488f},  {384, 0.074640f},  {448, 0.070075f},  {512, 0.063106f},
            {576, 0.058951f},  {896, 0.058634f},  {960, 0.055489f},  {1024, 0.053632f},
            {1088, 0.051975f}, {1152, 0.049371f}, {1600, 0.048646f}, {1664, 0.047586f},
            {1728, 0.046617f}, {2176, 0.046601f}, {2240, 0.045545f}, {2304, 0.044776f},
            {2816, 0.044204f}, {2880, 0.043835f}, {3328, 0.043794f}, {3392, 0.043595f},
            {3456, 0.043202f}, {4032, 0.042728f}, {4544, 0.042662f}, {4608, 0.042535f},
            {5184, 0.042479f}, {5760, 0.042172f}, {6336, 0.041739f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.3.0"}] = {
            {64, 2.587488f},   {128, 1.316016f},  {192, 0.903083f},  {256, 0.855700f},
            {320, 0.606675f},  {384, 0.490101f},  {448, 0.454421f},  {512, 0.388548f},
            {576, 0.353065f},  {640, 0.333035f},  {704, 0.310665f},  {768, 0.293312f},
            {832, 0.275803f},  {1088, 0.269880f}, {1152, 0.262924f}, {1280, 0.261482f},
            {1472, 0.260262f}, {1536, 0.258979f}, {1600, 0.258499f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.0.0"}] = {
            {32, 0.508448f},  {64, 0.492832f},  {256, 0.488284f}, {352, 0.450534f},
            {384, 0.448656f}, {416, 0.446799f}, {480, 0.445673f}, {864, 0.444948f},
            {896, 0.444699f}, {960, 0.443559f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_fast@v5.1.0"}] = {
            {64, 0.092624f},   {128, 0.050568f},  {192, 0.036229f},  {256, 0.029108f},
            {320, 0.024637f},  {384, 0.021792f},  {640, 0.021003f},  {704, 0.020141f},
            {768, 0.019135f},  {832, 0.018886f},  {1216, 0.018806f}, {1280, 0.018488f},
            {1728, 0.018315f}, {2560, 0.018173f}, {3008, 0.018080f}, {3456, 0.017987f},
            {5504, 0.017717f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_hac@v5.1.0"}] = {
            {64, 0.453776f},   {128, 0.234616f},  {192, 0.161056f},  {256, 0.126012f},
            {320, 0.103824f},  {384, 0.091232f},  {448, 0.080768f},  {512, 0.076340f},
            {576, 0.070469f},  {960, 0.067296f},  {1024, 0.064622f}, {1088, 0.062207f},
            {1152, 0.060317f}, {1536, 0.059761f}, {1600, 0.058523f}, {1664, 0.056849f},
            {1728, 0.055924f}, {2176, 0.055320f}, {2240, 0.054249f}, {2304, 0.053586f},
            {2816, 0.053361f}, {2880, 0.052496f}, {3456, 0.051915f}, {3968, 0.051748f},
            {4032, 0.051374f}, {4480, 0.051349f}, {4544, 0.051311f}, {4608, 0.051052f},
            {5184, 0.050763f}, {5760, 0.050743f}, {6336, 0.050588f}, {8064, 0.050403f},
    };
    chunk_benchmarks[{"NVIDIA A100 80GB PCIe", "rna004_130bps_sup@v5.1.0"}] = {
            {32, 0.718624f},  {256, 0.677516f}, {288, 0.674183f},
            {352, 0.673972f}, {384, 0.672989f}, {448, 0.672098f},
            {576, 0.669527f}, {608, 0.667219f}, {640, 0.663954f},
    };
}

}  // namespace dorado::basecall
