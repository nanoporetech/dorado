dorado_add_library(
    NAME
        dorado_secondary_features
    PUBLIC_DIR
        secondary/features
    SOURCES_PUBLIC
        decoder_base.h
        decoder_factory.h
        encoder_base.h
        encoder_factory.h
        haplotag_source.h
        kadayashi_utils.h
    SOURCES_PRIVATE
        decoder_base.cpp
        decoder_factory.cpp
        encoder_counts.cpp
        encoder_counts.h
        encoder_factory.cpp
        encoder_read_alignment.cpp
        encoder_read_alignment.h
        kadayashi_utils.cpp
        medaka_bamiter.cpp
        medaka_bamiter.h
        medaka_counts.cpp
        medaka_counts.h
        medaka_read_matrix.cpp
        medaka_read_matrix.h
    DEPENDS_PUBLIC
        dorado_secondary_architectures
        dorado_secondary_common
        dorado_secondary_consensus
        dorado_torch_utils
        dorado_utils
    DEPENDS_PRIVATE
        htslib
        kadayashi::haplotag_lib
        spdlog::spdlog
)
