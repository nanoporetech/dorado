dorado_add_library(
    NAME
        dorado_modbase
    PUBLIC_DIR
        modbase
    SOURCES_PUBLIC
        encode_kmer.h
        ModBaseCaller.h
        ModBaseContext.h
        ModBaseEncoder.h
        ModBaseRunner.h
        MotifMatcher.h
    SOURCES_PRIVATE
        encode_kmer.cpp
        ModBaseCaller.cpp
        ModBaseContext.cpp
        ModBaseEncoder.cpp
        ModBaseRunner.cpp
        ModBaseScaler.cpp
        ModBaseScaler.h
        MotifMatcher.cpp
        nn/ModBaseModel.cpp
        nn/ModBaseModel.h
    DEPENDS_PUBLIC
        dorado_config
        torch_lib
    DEPENDS_PRIVATE
        dorado_nn
        dorado_torch_utils
        dorado_utils
        spdlog::spdlog
)
